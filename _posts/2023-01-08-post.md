---
title: "자바의 정석-객체지향개념1 개선점"
excerpt: "6-5, 6-22"
categories:
- Java
tags:
- [Java, Study]
toc: true
toc_sticky: true
date: 2023-01-08
last_modified_at: 2023-01-08
permalink: /Java/객체지향1/
---

# 연습문제

## [6-5]

- 질문: 다음과 같은 결과를 얻도록 생성자와 info()를 정의하시오.<br>
실행 결과 - 홍길동, 1, 1, 100, 60, 76, 236, 78.7

- 문제 발생: 생성자 자체는 어렵지 않게 작성했다.<br>
또한, 실행 결과에서 236과 78.7은 총점과 평균이므로 각각 이를 구하는 메서드를 작성했다.

문제는 info() 메서드를 어떻게 정의해야 실행 결과와 같은 결과가 나오느냐였다.<br>
return문으로 반환하는 값은 기본적으로 하나뿐이지만, 실행 결과는 class의 정보가 그대로 나열되어 있다.<br>

이를 보고 가장 먼저 떠올린 건 배열을 활용하는 거였다.<br>
배열에 class 정보들을 모두 담아내고 반복문을 통해 이를 출력하는 방법으로 하면 되지 않을까 싶었다.<br>
이를 위해 void 메서드로 반복문을 통해 각 값을 출력하게 했다.

그러나 이 방법으로는 해결되지 않았다.<br>
질문란에 적지 않았으나, 실제 문제에서는 println메서드의 매개변수 안에 info()메서드가 있는 것이다.

배열을 활용해서 출력하는 메서드로는 println과 충돌하고 만다.<br>
println 메서드를 호출해서 사용한다면, 필연적으로 void 메서드가 아니라 반환값이 존재하는 메서드여야만 한다고 느꼈다.

- 문제 해결:

```
  String info() {

	return	name+", "+ban+", "+no+", "+kor+", "+eng+", "+math+", "+getTotal()+", "+getAverage();

	}
```

위의 시행착오를 겪으면서 깨달은 점과 기존의 지식을 통해 떠올린 조건은 다음과 같다.

1. println메서드를 쓰는 이상 info() 메서드는 제대로 반환값이 있어야 한다.
2. 기본적으로 return문을 통해 반환하는 값은 하나뿐이다.

반환하는 값은 하나이면서도 그 안에 무수한 정보를 담아야 한다.<br>
위 조건에 해당하는 건 문자열이자 참조형인 String밖에 없다는 결론에 이르러 위와 같이 return시켰다.

- 개선점: 답을 너무 어렵게 생각했다.<br>
이전부터 이러한 경향이 있기는 했으나, 나는 문제를 풀 때 간단한 방법보다 먼저 어려운 법을 시도하는 버릇이 있다.

간결하면서 좋은 코드, 그리고 최적화된 결과를 얻기 위한 방법은 여러 가지 존재한다.<br>
너무 한쪽에만 치중하지 말고 시야를 더 넓게 가질 필요가 있다고 재차 느낀 문제였다.


## [6-22]

- 질문: 다음 기능을 가진 메서드를 작성하시오.<br>
"주어진 문자열이 모두 숫자로 이루어져 있는지 확인한다.<br>
모두 숫자로 이루어져 있으면 true, 그렇지 않으면 false를 반환한다."

- 문제 발생: 코드 자체는 곧바로 떠올릴 수 있었다.<br>
chatAi 메서드를 이용해서 각 글자를 char형 변수에 담고 if문으로 걸러내는 방법을 반복하면 된다.

문제는 실제로 코드를 작성한 뒤에 발생했다.

```
  for(int i=0; i<str.length(); i++) {
			char ch = str.charAt(i);

			if(!('0'<=ch && ch<='9')) {
				break;
			}

      return true;
		}
		return false;
```

뭐가 문제인지 한눈에 보고 알아챈 사람이 있을지 모르겠다.<br>
하지만 당시의 나는 이걸로 원하는 결과가 나오지 않아 적잖이 당황했었다.

이 코드의 의도는 이렇다.<br>
반복문과 charAi 메서드를 이용해 문자열의 각 글자를 char형 변수에 담아내고,<br>
만약 이것이 숫자가 아니라면 break문을 통해 반복문을 빠져나가 false를 반환.<br>
숫자라면 if문이 작동을 안 하므로 true를 반환하는 식이다.

그러나 위와 같이 코드를 짠 결과,<br>
"1234o"와 같은 문자열도 true로 뜨고 말았다.

- 문제 해결: 이러한 결과가 나온 이유는 return문의 특징을 온전히 이해하지 못했거나,<br>
작동 과정을 완전히 머릿속에서 그려내지 못한 탓이다.

위 코드의 문제점은 반복문으로 짜놨지만, 실질적으로 단 한 번밖에 실행되지 않는다는 점이다.<br>
첫 글자가 숫자가 아니면 break문으로 빠져나가 false를 반환하나,<br>
첫 글자가 숫자라면 그대로 return true;에 도달해 그대로 true를 반환해버리고 만다.

문제는 값을 반환하면 그걸로 완전히 메서드가 역할을 다하고 종료한다는 점이다.<br>
이에 따라 본래는 문자열의 글자 전부를 조회해야 할 반복문이 첫 글자만 검사하는 식이 되고 말았다.

이러한 점을 보완해 다시 짠 코드가 아래이다.

```
  for(int i=0; i<str.length(); i++) {
			char ch = str.charAt(i);

			if(!('0'<=ch && ch<='9')) {
				return false;
			}

		}
		return true;
```

return문에 도달하는 건 반복문이 전부 끝나거나, 숫자가 아니란 게 판명 날 경우로 설정했다.<br>
도중에 메서드가 종료하지 않는 걸 의식해서 배치해냈다.


- 개선점: return문에 대해서 이해했다고 생각했으나, <br>
이것이 수행되면 그걸로 메서드가 종료한다는 사실을 간과한 게 문제였다.

현재까지는 객체지향에 관해 배우면서 큰 어려움은 없으나,<br>
이런 사소한 특징들을 잊지 않도록 의식해야 할 것이다.
