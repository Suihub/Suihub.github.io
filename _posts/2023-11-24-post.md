---
published: true
title: "우테코 프리코스 2회차 회고록 - 자동차 경주"
excerpt: "우테코, 프리코스, 회고"
categories:
- Java
tags:
- [Java, Study]
toc: true
toc_sticky: true
date: 2023-11-24
last_modified_at: 2023-11-24
permalink: /Java/precourse/racingcar
---

# 구현 회고
2주차 코드는 아래 링크를 통해 확인할 수 있다.<br>
[2주차 미션 - 자동차 경주](https://github.com/Suihub/java-racingcar-6/tree/Suihub)

2주차 미션을 구현하면서 가장 신경쓴 부분은 기능 목록과 테스트였다.<br>
1주차 때 처음으로 기능 목록을 작성했지만,<br>
어떻게 작성해야 할지 감을 잡지 못해 순수하게 이걸 구현하자고 마음먹은 기능만 나열했었다.

하지만 코드 리뷰를 통해 다른 분들의 코드를 보면서,<br>
기능 목록을 작성한 차이를 보고 크게 좌절했다.<br>
(왜 이 분들은 이곳에 있는 걸까?)

때마침 우테코 숫자야구 강의가 피드백으로 와서,<br>
이를 참조해 기능 목록을 새롭게 작성했는데,<br>
밑에서 후술하겠지만 역시나 이래저래 처음 겪는 만큼 이번 주차도 만족스럽게 적지는 못했었다.

클래스를 나누는 설계나 구현은,<br>
1주차와 크게 다를 게 없었기에 추가된 요구 사항에 주의하는 것만 제외하면,<br>
2주차도 구현 자체에 막힘은 없었다.

문제는 바로 테스트 작성이었는데,<br>
요구 사항에서 단위 테스트를 작성하라는 내용이 문제였다.

테스트를 작성하라 해도 단위의 범위가 어디까지를 말하는 건지 알 수 없었기에,<br>
Junit과 테스트에 대해 공부하면서 1주차보다도 더 꼼곰히 테스트를 작성하고자 했다.

하나 둘 테스트를 작성해나갔지만,<br>
가장 고민되는 부분은 바로 입출력 부분, 그리고 숫자 랜덤 생성 기능이었다.

우테코의 미션은 우테코에서 제공하는 클래스를 일부 활용하게 되어있는데,
입력을 담당하는 Console, 숫자를 생성하는 Random이 그러했다.

문제는 과연 이들을 시험하는 테스트를 작성할 필요가 있는가 어떤가였다.<br>
요구에서는 분명 단위 테스트를 작성해보자고 써있었지만,<br>
우테코에서는 반드시 ~하라가 아니면 스스로 판단하게끔 되어있었다.

보다 깊은 고민, 추궁이 더 나은 코드로 이어지는 만큼,<br>
이를 위한 유도라고 생각하는데,<br>
내게 있어서 이 외부 클래스의 테스트 작성이 2주차의 주된 탐구 주제였다.

기능 목록에 대한 공부를 제외하면,<br>
사실 2주차는 모조리 테스트에 대해 찾아보는데 썼다 해도 과언이 아니다.

단위 테스트의 정의와 범위.<br>
테스트를 작성하는 이유.<br>
외부 클래스의 기능을 검증해야 하는지 말아야 하는지를 찾아보며 정말 많이 고민했다.

이 덕분에 테스트의 의의와 작성법에 대해 많이 배울 수 있었고,<br>
최종적으로 테스트에 대한 내 나름대로의 기준을 세울 수 있었다.

결론만 말한다면 나는 결국 외부 클래스에 대한 검증은 작성하지 않았다.<br>
테스트를 작성하는 건 코드에 대한 신뢰성을 증가시키고,<br>
검증을 통해 버그를 빠르게 피드백 받아 잡아내는데 있다고 보는데,<br>
외부 클래스의 순수한 기능조차 이런 식으로 검증하려 들면 끝이 없다고 생각했기 때문이다.

외부 기능에 의존할 수밖에 없는 메서드를 테스트해야 한다면,<br>
인터페이스든 Mock 객체든 이용해서 테스트를 작성해야겠지만,<br>
테스트에 대해 공부할수록 애초에 외부 기능에 전적으로 의존하는 설계가 잘못되었다고 느꼈다.

고로 외부 기능을 호출해서 쓰되,<br>
이와 독립적으로 사용할 수 있도록 메서드를 나누는 방면으로 설계를 고쳐 진행했다.

1주차가 여태까지 공부한 내용을 실험해보고,<br>
처음 접하는 개념을 공부하는 주차였다면,<br>
2주차는 1주차의 공부를 더욱 발전시킴과 동시에 테스트에 대해 공부하는 주차였다.

# 반성점과 개선점
우선 가장 후회되는 건 역시 기능 목록이다.<br>
우테코의 숫자야구 강의를 참조해서 작성했지만,<br>
이후에 테스트에 대한 공부에 몰두한 터라 여러가지로 많이 미흡하게 작성해 제출하고 말았다.

이 부분은 마크다운 문법을 좀 더 정확히 찾아,<br>
가독성을 고려하며 작성하고자 하면 더욱 개선되리라 생각한다.

하지만 개인적으로 기능 목록은 너무 외견에만 집중하고 싶지 않다는 것도 사실이다.<br>
프리 코스를 전부 끝낸 지금,<br>
기능 목록은 개발자 본인의 지도이자 길잡이용이 아닐까 생각하고 있기 때문.

내 코드를 읽어주는 분들을 위한 것이기도 한 만큼,<br>
가독성이나 외견은 분명 중요한 부분이기는 하나,<br>
설계를 정리하고 방향을 잡기 위한 지침서라는 것도 잊어선 안 된다고 생각했다.

또 한 가지 반성점은 설계 그 자체다.<br>
MVC 패턴의 유용함은 인프런에서 강의를 들으면서 알고 있었고,<br>
이 때문에 연습을 위해 1주차 때부터 나름대로 미션에 적용하고 있었다.

그러나 막상 2주차를 다 완성하고 보니,<br>
컨트롤러가 너무 무겁게 느껴졌다.

컨트롤러에서 변환하고 중계하며, 검증하는 등.<br>
너무 많은 기능을 담당하는 것처럼 느껴졌고,<br>
이를 가볍게 할 방법이 없을까 곰곰이 생각하게 되었다.

최종적으로 내가 내린 결론은 설계 단계부터 뜯어고쳐야 한단 것이었다.<br>
지금까지는 MVC를 적용시키자! 라는 생각으로 설계했으나,<br>
어쩌면 나는 기능 목록을 작성할 때처럼 외견에만 집중한 게 아닐까 싶어졌다.

컨트롤러에 변환과 검증 등, 너무 많은 기능이 집중되어 있다면,<br>
이 기능들을 적절한 다른 곳에서 담당시켜야 한다고 느꼈고,<br>
그렇다면 도메인이나 서비스,<br>
특히 도메인에서 처리하는 건 어떨까 하는 발상에 이르렀다.

생각이 여기까지 미치고 나니,<br>
아예 서비스 로직도 도메인에서 하는 게 낫지 않아 싶어졌는데,<br>
앞서 말했듯 2주차는 테스트에 대해 공부하고 고민하느라 시간이 많이 걸렸기에,<br>
설계 고민을 할 때는 이미 마지막 날이어서 그대로 제출할 수 밖에 없었다.

우테코의 공부 방법은 매우 효과적이라고 느낀다.<br>
자연스럽게 더 나은 설계와 방법에 대해 고민하게끔 만들고,<br>
이를 실현하기 위해 스스로 찾아 새로운 개념을 접하고 이를 적용시키게끔 한다.

테스트와 설계에 대해 고민하였기에,<br>
나는 3주차 이후에서 DDD에 대해 보다 자연스럽게 공부하고 이를 적용할 수 있었다.

이렇게 하나의 문제에 대해 시간 가는 줄 모르고 고민하는 것 또한,<br>
몰입했었다는 증거가 아닐까 문득 그런 생각이 든다.
